<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loan vs Cash | Decidrly</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
    <h1>Decidrly</h1>
</header>

<nav class="navbar">
    <a href="index.html">Home</a>
    <a href="buy_vs_rent.html">Buy vs Rent</a>
    <a href="loan_vs_cash.html">Loan vs Cash</a>
    <a href="savings_vs_inflation.html">Savings vs Inflation</a>
</nav>

<div class="calculator-container">
    <h2>Loan vs Cash Calculator</h2>

    <label>Item Price (PKR):<input type="number" id="price" value="1000000"></label>
    <label>Loan Interest Rate (% per year):<input type="number" id="loanRate" value="12"></label>
    <label>Investment Duration (years):<input type="number" id="years" value="5"></label>
    <label>Delay in Investment (years):<input type="number" id="delay" value="0"></label>

    <button onclick="calculateLoanVsCash()">Calculate</button>
    <div class="result" id="result"></div>
    <canvas id="chart" width="600" height="400"></canvas>
</div>

<script>
function calculateLoanVsCash() {
    let price = parseFloat(document.getElementById("price").value);
    let loanRate = parseFloat(document.getElementById("loanRate").value)/100;
    let years = parseInt(document.getElementById("years").value);
    let delay = parseInt(document.getElementById("delay").value);

    let yearLabels = [];
    let cashCosts = [];
    let loanCosts = [];

    for (let y=0; y<=years; y++) {
        yearLabels.push(y);
        if (y < delay) {
            cashCosts.push(0);
            loanCosts.push(0);
        } else {
            cashCosts.push(price);
            loanCosts.push(price * Math.pow(1+loanRate, y-delay));
        }
    }

    document.getElementById("result").innerHTML = `
        <p>Cash Payment: PKR ${cashCosts[years].toFixed(2)}</p>
        <p>Loan Payment with Interest: PKR ${loanCosts[years].toFixed(2)}</p>
    `;

    new Chart(document.getElementById('chart'), {
        type: 'line',
        data: {
            labels: yearLabels,
            datasets: [
                { label: 'Cash Payment', data: cashCosts, borderColor: 'blue', fill: false },
                { label: 'Loan Payment', data: loanCosts, borderColor: 'orange', fill: false }
            ]
        },
        options: { responsive: true, plugins: { legend: { position: 'top' } } }
    });
}
</script>

</body>
</html>
