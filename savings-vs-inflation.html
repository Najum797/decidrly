<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Savings vs Inflation | Decidrly</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
    <h1>Decidrly</h1>
</header>

<nav class="navbar">
    <a href="index.html">Home</a>
    <a href="buy_vs_rent.html">Buy vs Rent</a>
    <a href="loan_vs_cash.html">Loan vs Cash</a>
    <a href="savings_vs_inflation.html">Savings vs Inflation</a>
</nav>

<div class="calculator-container">
    <h2>Savings vs Inflation Calculator (with Delay)</h2>

    <label>Initial Savings (PKR):<input type="number" id="savings" value="1000000"></label>
    <label>Annual Contribution (PKR):<input type="number" id="contribution" value="100000"></label>
    <label>Annual Inflation Rate (%):<input type="number" id="inflation" value="8"></label>
    <label>Expected Investment Return (%):<input type="number" id="returnRate" value="12"></label>
    <label>Investment Duration (years):<input type="number" id="years" value="10"></label>
    <label>Delay in Investing (years):<input type="number" id="delay" value="0"></label>

    <button onclick="calculateSavingsVsInflation()">Calculate</button>
    <div class="result" id="result"></div>
    <canvas id="chart" width="600" height="400"></canvas>
</div>

<script>
function calculateSavingsVsInflation() {
    let savings = parseFloat(document.getElementById("savings").value);
    let contribution = parseFloat(document.getElementById("contribution").value);
    let inflation = parseFloat(document.getElementById("inflation").value)/100;
    let returnRate = parseFloat(document.getElementById("returnRate").value)/100;
    let years = parseInt(document.getElementById("years").value);
    let delay = parseInt(document.getElementById("delay").value);

    let yearLabels = [];
    let realValue = [];
    let nominalValue = [];

    let total = savings;

    for (let y=0; y<=years; y++) {
        yearLabels.push(y);

        if (y < delay) {
            nominalValue.push(0);
            realValue.push(0);
        } else {
            if (y !== delay) total = total*(1+returnRate) + contribution;
            nominalValue.push(total);
            let real = total / Math.pow(1+inflation, y-delay);
            realValue.push(real);
        }
    }

    document.getElementById("result").innerHTML = `
        <p>Total Savings after ${years} years (Nominal): PKR ${nominalValue[years].toFixed(2)}</p>
        <p>Total Savings after ${years} years (Real Value): PKR ${realValue[years].toFixed(2)}</p>
    `;

    new Chart(document.getElementById('chart'), {
        type: 'line',
        data: {
            labels: yearLabels,
            datasets: [
                { label: 'Nominal Savings', data: nominalValue, borderColor: 'green', fill: false },
                { label: 'Real Value', data: realValue, borderColor: 'red', fill: false }
            ]
        },
        options: { responsive: true, plugins: { legend: { position: 'top' } } }
    });
}
</script>

</body>
</html>
